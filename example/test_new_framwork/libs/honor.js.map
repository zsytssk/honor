{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./Honor.js","webpack:///./UI/Base/Dialog.js","webpack:///./UI/Base/Scene.js","webpack:///./UI/Director.js","webpack:///./UI/Manager/Dialog.js","webpack:///./UI/Manager/Loader.js","webpack:///./UI/Manager/Scene.js","webpack:///./UI/View.js","webpack:///./Utils/createSkeleton.js","webpack:///./Utils/cutStr.js","webpack:///./Utils/extends.js","webpack:///./Utils/formatTime.js","webpack:///./Utils/getStringLength.js","webpack:///./Utils/index.js"],"names":["name","version","Class","Laya","class","run","GameConfig","callback","console","error","View","window","Laya3D","init","width","height","enable","stage","scaleMode","screenMode","alignV","alignH","URL","exportSceneToJson","debug","Utils","getQueryString","DEBUG_MODE","enableDebugPanel","physicsDebug","alertGlobalError","director","__init__","AtlasInfoManager","Handler","create","Dialog","_$config","Object","assign","DEFAULT_CONFIG","path","_$needWaitForData","url","indexOf","view","loader","getRes","createView","resetProgress","dialogLoader","SceneLoader","on","_onSceneLoaded","load","config","laya","ui","Scene","_$libraryName","_$viewType","onLoadProgress","callLater","event","Loader","display","Director","DirectorView","SceneManager","LoaderManager","DialogManager","Event","RESIZE","_onResize","runScene","params","scene","getViewByPool","switchzScene","runningScene","_curScene","openDialog","dialog","onMounted","apply","openDialogByClass","once","openDialogByData","getDialogByName","getDialogsByGroup","group","closeDialogByName","closeDialogsByGroup","closeAllDialogs","closeAll","setLoadPageForScene","setLoadView","setLoadPageForDialog","Tween","Sprite","defaultPopupEffect","scale","_effectTween","from","x","y","scaleX","scaleY","Ease","backOut","doOpen","defaultCloseEffect","to","backIn","doClose","viewContent","dialogClassMap","setDefaultConfig","type","dialogType","maskLayerName","Math","random","popupEffectHandler","closeEffectHandler","maskLayer","_closeOnSide","addView","setViewVisible","getView","mouseThrough","manager","content","getChildAt","numChildren","isModal","_$configtmp","closeOnSide","close","size","i","item","isPopupCenter","_centerDialog","onResize","_checkMask","round","pivotX","pivotY","_clearDialogEffect","timer","clear","removeSelf","graphics","drawRect","shadowColor","alpha","shadowAlpha","addViewAt","obj","props","runtime","clas","ClassUtils","getClass","cfg","closeOther","closeByGroup","closeByName","_getBit","onOpened","_$onOpened","onClosed","_$onClosed","isShowEffect","popupEffect","runWith","lock","setLockView","autoClose","closeEffect","closeType","autoDestroyAtClosed","destroy","recoverView","parent","arr","push","complete","sceneData","setLoadViewVisible","onLoadComplete","val","setLoadProgress","off","sceneClassMap","switchScene","VIEW_MAP","LOAD_VIEW_MAP","POOL","log","addChild","_createLoadViewByClass","loadType","_createLoadViewByData","key","constructor","pop","data","renderType","instance","Node","visible","onProgress","index","addChildAt","createSkeleton","rate","png","sk","templet","Templet","parseData","buildArmature","cutStr","text","length","reg","replace","m","floor","substr","isPlainObject","class2type","toString","hasOwn","hasOwnProperty","fnToString","ObjectFunctionString","call","proto","Ctor","getPrototypeOf","extend","options","src","copy","copyIsArray","clone","target","arguments","deep","Array","isArray","undefined","formatTime","total","time","h","s","getStringLength","str"],"mappings":"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","file":"honor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Honor\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Honor\"] = factory();\n\telse\n\t\troot[\"Honor\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./Honor.js\");\n","import director from \"./UI/Director\";\r\nimport Utils from \"./Utils\";\r\n\r\nconst name = \"Honor\";\r\nconst version = \"0.0.1-beta\";\r\nconst Class = Laya.class;\r\n\r\nfunction run (GameConfig, callback) {\r\n    if(!callback){\r\n        console.error(\"需要引擎启动以后的回调函数，用来启动起始页等\");\r\n        return;\r\n    }\r\n    if(!Laya.View){\r\n        console.error(\"需要laya.ui库\");\r\n        return;\r\n    }\r\n    //根据IDE设置初始化引擎\t\t\r\n    if (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n    else Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n    Laya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n    Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n    Laya.stage.scaleMode = GameConfig.scaleMode;\r\n    Laya.stage.screenMode = GameConfig.screenMode;\r\n    Laya.stage.alignV = GameConfig.alignV;\r\n    Laya.stage.alignH = GameConfig.alignH;\r\n    //兼容微信不支持加载scene后缀场景\r\n    Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\r\n    //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n    if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") {\r\n        this.DEBUG_MODE = true;\r\n        Laya.enableDebugPanel();\r\n    }else{\r\n        this.DEBUG_MODE = false;\r\n    }\r\n    if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n    // if (GameConfig.stat) Laya.Stat.show();\r\n    Laya.alertGlobalError = false;\r\n\r\n    director.__init__();\r\n\r\n    //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n    Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(null, callback));\r\n}\r\n\r\nexport {\r\n    name,\r\n    version,\r\n    Class as class,\r\n    run,\r\n    director,\r\n    Utils\r\n}","import { DEFAULT_CONFIG } from \"../Manager/Dialog\";\r\n\r\nclass Dialog extends Laya.Dialog {\r\n    constructor () {\r\n        super();\r\n        this._$config = Object.assign({}, DEFAULT_CONFIG);\r\n    }\r\n\r\n    loadScene (path) {\r\n        this._$needWaitForData = true;\r\n\t\tvar url = path.indexOf(\".\") > -1 ? path : `${path}.scene`;\r\n\t\tvar view = Laya.loader.getRes(url);\r\n\t\tif (view){\r\n\t\t\tthis.createView(view);\r\n        } else {\r\n            // loader.showLoadingPage(\"Dialog\");\r\n            var loader = null;\r\n\t\t\tLaya.loader.resetProgress();\r\n\t\t\tvar dialogLoader = new Laya.SceneLoader();\r\n\t\t\t// dialogLoader.on(/*laya.events.Event.PROGRESS*/\"progress\", loader, loader.onLoadProgress, [\"Dialog\", url]);\r\n\t\t\tdialogLoader.on(/*laya.events.Event.COMPLETE*/\"complete\", this, this._onSceneLoaded, [url]);\r\n\t\t\tdialogLoader.load(url);\r\n\t\t}\r\n    }\r\n\r\n    set config (config) {\r\n        this._$config = Object.assign(this._$config, config);\r\n    }\r\n\r\n    onMounted () {}\r\n\r\n    onResize (width, height) {}\r\n}\r\n\r\nLaya[\"Dialog\"] = laya.ui[\"Dialog\"] = Dialog;\r\nexport default Dialog;","class Scene extends Laya.View{\r\n    constructor () {\r\n        super();\r\n        this._$libraryName = \"Honor\";\r\n        this._$viewType = \"Scene\";\r\n    }\r\n    \r\n    loadScene (path) {\r\n        this._$needWaitForData = true;\r\n\t\tvar url = path.indexOf(\".\") > -1 ? path : `${path}.scene`;\r\n\t\tvar view = Laya.loader.getRes(url);\r\n\t\tif (view){\r\n\t\t\tthis.createView(view);\r\n        } else {\r\n            // loader.showLoadingPage(\"Dialog\");\r\n            var loader = null;\r\n\t\t\tLaya.loader.resetProgress();\r\n\t\t\tvar dialogLoader = new Laya.SceneLoader();\r\n\t\t\tdialogLoader.on(/*laya.events.Event.PROGRESS*/\"progress\", loader, loader.onLoadProgress, [\"Dialog\", url]);\r\n\t\t\tdialogLoader.on(/*laya.events.Event.COMPLETE*/\"complete\", this, this._onSceneLoaded, [url, loader, dialogLoader]);\r\n\t\t\tdialogLoader.load(url);\r\n\t\t}\r\n    }\r\n\r\n    createView (view) {\r\n        super.createView(view);\r\n\r\n        this.callLater(function () {\r\n            this.event(\"DialogViewCreated\");\r\n        });\r\n    }\r\n    \r\n    _onSceneLoaded (url, loader, dialogLoader) {\r\n        // dialogLoader.off(/*laya.events.Event.PROGRESS*/\"progress\", loader, loader.onLoadProgress);\r\n        this.createView(Laya.Loader.getRes(url));\r\n        // loader.hideLoadingPage(\"Dialog\");\r\n    }\r\n\r\n    onResize (width, height) {}\r\n}\r\n\r\n// delete Laya.Scene.open;\r\n// delete Laya.Scene.load;\r\n// delete Laya.Scene._onSceneLoaded;\r\n// delete Laya.Scene.close;\r\n// delete Laya.Scene.closeAll;\r\n// delete Laya.Scene.destroy;\r\n// delete Laya.Scene.setLoadingPage;\r\n// delete Laya.Scene.showLoadingPage;\r\n// delete Laya.Scene._showLoading;\r\n// delete Laya.Scene._hideLoading;\r\n// delete Laya.Scene.hideLoadingPage;\r\n// delete Laya.Scene._root;\r\n// delete Laya.Scene._loadPage;\r\n\r\nLaya[\"Scene\"] = laya.display[\"Scene\"] = Scene;\r\nexport default Scene;","import SceneManager from \"./Manager/Scene\";\r\nimport LoaderManager from \"./Manager/Loader\";\r\nimport DialogManager from \"./Manager/Dialog\";\r\nimport DirectorView from \"./View\";\r\nimport Scene from \"./Base/Scene\";\r\nimport Dialog from \"./Base/Dialog\";\r\n\r\nconst Director = {\r\n    __init__ () {\r\n        DirectorView.__init__();\r\n        SceneManager.__init__();\r\n        LoaderManager.__init__();\r\n        DialogManager.__init__();\r\n\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this._onResize);\r\n    },\r\n\r\n    _onResize () {\r\n        const {width, height} = Laya.stage;\r\n        DirectorView._onResize(width, height);\r\n        SceneManager._onResize(width, height);\r\n        DialogManager._onResize(width, height);\r\n    },\r\n\r\n    runScene (url, params) {\r\n        let scene = DirectorView.getViewByPool(url);\r\n        if(scene){\r\n            SceneManager.switchzScene(params, scene);\r\n            return;\r\n        }\r\n        switch(typeof url){\r\n\t\t\t// case \"function\":\r\n            //     let scene = new url;\r\n            //     scene.once(\"onViewCreated\", SceneManager, SceneManager.switchScene, [params, scene]);\r\n\t\t\t// \tbreak;\r\n\t\t\tcase \"string\":\r\n                LoaderManager.load(\"Scene\", url, Laya.Handler.create(SceneManager, SceneManager.runScene, [url, params]));\r\n\t\t\t\tbreak;\r\n\t\t}\r\n    },\r\n\r\n    get runningScene () {\r\n        return SceneManager._curScene;\r\n    },\r\n\r\n    openDialog (url, params, config) {\r\n        let dialog = DirectorView.getViewByPool(typeof url === \"function\" ? url.name : url);\r\n        if(dialog){\r\n            params && dialog.onMounted.apply(dialog, params);\r\n            DialogManager.openDialogByClass(config, dialog);\r\n            return;\r\n        }\r\n        switch(typeof url){\r\n\t\t\tcase \"function\":\r\n                dialog = new url;\r\n                params && dialog.onMounted.apply(dialog, params);\r\n                if(!dialog._$needWaitForData){\r\n                    DialogManager.openDialogByClass(config, dialog);\r\n                }else{\r\n                    dialog.once(\"onViewCreated\", DialogManager, DialogManager.openDialogByClass, [config, dialog]);\r\n                }\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"string\":\r\n                LoaderManager.load(\"Dialog\", url, Laya.Handler.create(DialogManager, DialogManager.openDialogByData, [url, params, config]));\r\n\t\t\t\tbreak;\r\n\t\t}\r\n    },\r\n\r\n    getDialogByName (name) {\r\n        return DialogManager.getDialogByName(name);\r\n    },\r\n\r\n    getDialogsByGroup (group) {\r\n        return DialogManager.getDialogsByGroup(group);\r\n    },\r\n\r\n    closeDialogByName (name) {\r\n        DialogManager.closeDialogByName(name);\r\n    },\r\n\r\n    closeDialogsByGroup (group) {\r\n        DialogManager.closeDialogsByGroup(group);\r\n    },\r\n\r\n    closeAllDialogs () {\r\n        DialogManager.closeAll();\r\n    },\r\n\r\n    setLoadPageForScene (url) {\r\n        DirectorView.setLoadView(\"Scene\", url);\r\n    },\r\n\r\n    setLoadPageForDialog (url) {\r\n        DirectorView.setLoadView(\"Dialog\", url);\r\n    }\r\n}\r\n\r\nexport default Director;","import DirectorView from \"../View\";\r\n\r\n\r\nconst Tween = Laya.Tween;\r\nconst Sprite = Laya.Sprite;\r\n\r\nexport const DEFAULT_CONFIG = {\r\n\t// \"isModal\"      : true,       //是否是模式窗口\r\n\t\"closeOther\"   : false,      //在弹窗模式为multiple时，是否在弹窗弹窗的时候关闭其他显示中的弹窗\r\n\t\"closeOnSide\"  : false,      //模式窗口点击遮罩，是否关闭窗口，默认是关闭的\r\n\t\"closeByGroup\" : false,      //在弹窗模式为multiple时，是否在弹窗弹窗的时候关闭相同group属性的弹窗\r\n\t\"closeByName\"  : false,      //在弹窗模式为multiple时，是否在弹窗弹窗的时候关闭相同name属性的弹窗\r\n\t// \"popupCenter\"  : true,       //指定对话框是否居中弹。 如果值为true，则居中弹出，否则，则根据对象坐标显示，默认为true。\r\n\t\"shadowAlpha\"  : 0.5,        //弹出框背景透明度\r\n\t\"shadowColor\"  : \"#000000\",  //弹出框背景颜色\r\n\t\"autoClose\"    : false       //指定时间内自动关闭，单位为ms，默认不打开此功能\r\n};\r\n\r\n/**@private 全局默认弹出对话框效果，可以设置一个效果代替默认的弹出效果，如果不想有任何效果，可以赋值为null*/\r\nconst defaultPopupEffect = function(dialog){\r\n\tdialog.scale(1, 1);\r\n\tdialog._effectTween = Laya.Tween.from(dialog, {x : Laya.stage.width / 2, y : Laya.stage.height / 2, scaleX : 0, scaleY : 0}, 300, Laya.Ease.backOut, Laya.Handler.create(this, this.doOpen, [dialog]), 0, false, false);\r\n};\r\n/**@private 全局默认关闭对话框效果，可以设置一个效果代替默认的关闭效果，如果不想有任何效果，可以赋值为null*/\r\nconst defaultCloseEffect = function(dialog){\r\n\tdialog._effectTween = Laya.Tween.to(dialog, {x : Laya.stage.width / 2, y : Laya.stage.height / 2, scaleX : 0, scaleY : 0}, 300, Laya.Ease.backIn, Laya.Handler.create(this, this.doClose, [dialog]), 0, false, false);\r\n};\r\n\r\n/**\r\n*<code>DialogManager</code> 对话框管理容器，所有的对话框都在该容器内，并且受管理器管理。\r\n*任意对话框打开和关闭，都会触发管理类的open和close事件\r\n*可以通过UIConfig设置弹出框背景透明度，模式窗口点击边缘是否关闭，点击窗口是否切换层次等\r\n*通过设置对话框的zOrder属性，可以更改弹出的层次\r\n*/\r\nconst DialogManager = {\r\n\tviewContent : null,\r\n\tdialogClassMap : {},\r\n\r\n\t/**@public 覆盖默认弹窗配置 */\r\n\tsetDefaultConfig(config){\r\n\t\tObject.assign(DEFAULT_CONFIG, config);\r\n\t},\r\n\t\r\n\t__init__ (type) {\r\n\t\tthis.dialogType = (type == \"single\" || type == \"multiple\") ? type : \"single\";\r\n\t\tthis.maskLayerName = `__$DialogManagerMaskLayer:${Math.random()}`;\r\n        this.popupEffectHandler = new Laya.Handler(this, defaultPopupEffect);\r\n\t\tthis.closeEffectHandler = new Laya.Handler(this, defaultCloseEffect);\r\n\t\t\r\n\t\tthis.maskLayer = new Sprite();\r\n\t\tthis.maskLayer.on(\"click\", this, this._closeOnSide);\r\n\t\tthis.maskLayer.name = this.maskLayerName;\r\n\t\t\r\n\t\t\r\n\t\tDirectorView.addView(\"Dialog\", this.maskLayer);\r\n\t\tDirectorView.setViewVisible(\"Dialog\", false);\r\n\r\n\t\tthis.viewContent = DirectorView.getView(\"Dialog\");\r\n\t\tthis.viewContent.mouseThrough = true;\r\n\t\t\r\n\t\tLaya.Dialog.manager = this;\r\n\t\tthis._onResize();\r\n    },\r\n\r\n\t_closeOnSide(){\r\n\t\tlet content = this.viewContent;\r\n\t\tlet dialog = content.getChildAt(content.numChildren - 1);\r\n\t\tif (dialog instanceof laya.ui.Dialog && dialog.name !== this.maskLayerName && dialog.isModal && dialog._$configtmp.closeOnSide){\r\n\t\t\tdialog.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**@private */\r\n\t_onResize(width, height){\r\n\t\tlet content = this.viewContent;\r\n\t\tthis.maskLayer.size(width, height);\r\n\t\t\r\n\t\t// this.maskLayer.graphics.clear(true);\r\n\t\t// this.maskLayer.graphics.drawRect(0, 0, width, height, UIConfig.popupBgColor);\r\n\t\t// this.maskLayer.alpha=UIConfig.popupBgAlpha;\r\n\t\t\r\n\t\tfor (let i = content.numChildren - 1; i > -1; i--){\r\n\t\t\tlet item = content.getChildAt(i);\r\n\t\t\tif(item.name !== this.maskLayerName){\r\n\t\t\t\tif (item.isPopupCenter) {\r\n\t\t\t\t\tthis._centerDialog(item);\r\n\t\t\t\t}else{\r\n\t\t\t\t\titem.onResize(width, height);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._checkMask();\r\n\t},\r\n\t\r\n\t_centerDialog(dialog){\r\n\t\tdialog.x = Math.round(((Laya.stage.width - dialog.width) >> 1) + dialog.pivotX);\r\n\t\tdialog.y = Math.round(((Laya.stage.height - dialog.height) >> 1) + dialog.pivotY);\r\n\t},\r\n\r\n\t/**@private */\r\n\t_clearDialogEffect(dialog){\r\n\t\tLaya.timer.clear(dialog, dialog.close);\r\n\t\tif (dialog._effectTween){\r\n\t\t\tTween.clear(dialog._effectTween);\r\n\t\t\tdialog._effectTween=null;\r\n\t\t}\r\n\t},\r\n\r\n\t/**@private 发生层次改变后，重新检查遮罩层是否正确*/\r\n\t_checkMask(){\r\n\t\tlet content = this.viewContent;\r\n\t\tthis.maskLayer.removeSelf();\r\n\r\n\t\tfor (let i = content.numChildren - 1; i > -1; i--){\r\n\t\t\tlet dialog = content.getChildAt(i);\r\n\t\t\tif (dialog && dialog.isModal){\r\n\t\t\t\tthis.maskLayer.graphics.clear(true);\r\n                this.maskLayer.graphics.drawRect(0, 0, content.width, content.height, dialog._$configtmp.shadowColor);\r\n\t\t\t\tthis.maskLayer.alpha = dialog._$configtmp.shadowAlpha;\r\n\t\t\t\t\r\n\t\t\t\tDirectorView.addViewAt(\"Dialog\", this.maskLayer, i);\r\n\t\t\t\t// this.addChildAt(this.maskLayer, i);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(content.numChildren == 0){\r\n\t\t\tDirectorView.setViewVisible(\"Dialog\", false);\r\n            // this.visible = false;\r\n        }\r\n\t},\r\n\t\r\n\topenDialogByData (url, params, config, obj) {\r\n\t\tif (!obj) {throw `Can not find \"Dialog\":${url}`;}\r\n        if (!obj.props) {throw `\"Dialog\" data is error:${url}`;}\r\n        \r\n        let runtime = obj.props.runtime ? obj.props.runtime : obj.type;\r\n        let clas = Laya.ClassUtils.getClass(runtime);\r\n        this.dialogClassMap[url] = clas;\r\n\r\n        DirectorView.createView(obj, clas, url, params, Laya.Handler.create(this, this.openDialogByClass, [config]));\r\n\t},\r\n\r\n\topenDialogByClass (cfg, dialog) {\r\n        Laya.timer.callLater(this, function () {\r\n\t\t\t// this.visible = true;\r\n\t\t\tDirectorView.setViewVisible(\"Dialog\", true);\r\n        });\r\n\r\n        this._clearDialogEffect(dialog);\r\n        \r\n        // const config = dialog._$config = Object.assign({}, DEFAULT_CONFIG, dialog._$config, cfg);\r\n        const config = dialog._$configtmp = Object.assign({}, dialog._$config, cfg);\r\n\t\t// dialog._$customParams = params;\r\n\t\t\r\n\t\tDirectorView.addView(\"Dialog\", dialog);\r\n        // this.addChild(dialog);\r\n        if (dialog.isPopupCenter) this._centerDialog(dialog);\r\n        if (config.closeOther) this.closeAll();\r\n        if (dialog.group && config.closeByGroup) this.closeByGroup(dialog.group);\r\n        if (dialog.name && config.closeByName) this.closeByName(dialog.name);\r\n        \r\n\t\tif (dialog.isModal || this.viewContent._getBit(/*laya.Const.HAS_ZORDER*/0x20)){\r\n            Laya.timer.callLater(this, this._checkMask);\r\n        }\r\n\r\n        if(config.onOpened){\r\n            if(dialog.onOpened){\r\n                dialog._$onOpened = dialog.onOpened;\r\n            }\r\n            dialog.onOpened = config.onOpened;\r\n        }\r\n        if(config.onClosed){\r\n            if(dialog.onClosed){\r\n                dialog._$onClosed = dialog.onClosed;\r\n            }\r\n            dialog.onClosed = config.onClosed;\r\n        }\r\n        \r\n\t\tif (dialog.isShowEffect && dialog.popupEffect != null){\r\n            dialog.popupEffect.runWith(dialog);\r\n\t\t}else{\r\n            this.doOpen(dialog);\r\n        }\r\n\t},\r\n\r\n\t/**@private */\r\n\tlock(){},\r\n\t/**@private */\r\n\tsetLockView(){},\r\n\r\n\t/**\r\n\t*执行打开对话框。\r\n\t*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。\r\n\t*/\r\n\tdoOpen(dialog){\r\n\t\t// dialog.onOpened(dialog._$customParams);\r\n\t\tif(dialog._$configtmp.autoClose){\r\n\t\t\tLaya.timer.once(dialog._$configtmp.autoClose, dialog, dialog.close);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t*关闭对话框。\r\n\t*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。\r\n\t*/\r\n\tclose(dialog){\r\n\t\tthis._clearDialogEffect(dialog);\r\n\t\tif (dialog.closeEffect != null && dialog.closeEffect instanceof Laya.Handler){\r\n\t\t\tdialog.closeEffect.runWith([dialog]);\r\n\t\t}else{\r\n\t\t\tthis.doClose(dialog);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t*执行关闭对话框。\r\n\t*@param dialog 需要关闭的对象框 <code>Dialog</code> 实例。\r\n\t*/\r\n\tdoClose(dialog){\r\n\t\tif(dialog.name === this.maskLayerName){\r\n\t\t\tdialog.removeSelf();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdialog.removeSelf();\r\n\t\tdialog.onClosed(dialog.closeType);\r\n\t\tif (dialog.autoDestroyAtClosed){\r\n\t\t\tdialog.destroy();\r\n\t\t}else{\r\n\t\t\tDirectorView.recoverView(dialog);\r\n\t\t}\r\n\t\tif(this.maskLayer.parent){\r\n\t\t\tLaya.timer.callLater(this, this._checkMask);\r\n\t\t\t// this._checkMask();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t*关闭所有的对话框。\r\n\t*/\r\n\tcloseAll(){\r\n\t\tlet content = this.viewContent;\r\n\t\tfor (let i = content.numChildren - 1; i > -1; i--){\r\n            let item = content.getChildAt(i);\r\n            // if(!item) {return;}\r\n\r\n            // if(item.name === this.maskLayerName) {\r\n            //     item.removeSelf();\r\n            // }else{\r\n\t\t\t\tthis.close(item);\r\n\t\t\t// }\r\n        }\r\n\t},\r\n\r\n\t/**\r\n\t*关闭指定name值的对话框。\r\n\t*/\r\n\tcloseDialogByName (name) {\r\n\t\tif(!name){return;}\r\n\t\tlet content = this.viewContent;\r\n\r\n        for (let i = content.numChildren - 1; i > -1; i--){\r\n            let item = content.getChildAt(i);\r\n            if(item.name == name){\r\n                this.close(item);\r\n                break;\r\n            }\r\n        }\r\n\t},\r\n\r\n\t/**\r\n\t *根据组关闭所有弹出框\r\n\t *@param group 需要关闭的组名称\r\n\t */\r\n\tcloseDialogsByGroup (group) {\r\n\t\tlet content = this.viewContent;\r\n\t\tfor (let i = content.numChildren - 1; i > -1; i--){\r\n\t\t\tlet item = content.getChildAt(i);\r\n\t\t\tif (item && item.group === group){\r\n\t\t\t\tthis.close(item);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t*根据组获取所有对话框\r\n\t*@param group 组名称\r\n\t*@return 对话框数组\r\n\t*/\r\n\tgetDialogsByGroup(group){\r\n\t\tlet content = this.viewContent;\r\n\t\tlet arr = [];\r\n\t\tfor (let i = content.numChildren - 1; i > -1; i--){\r\n\t\t\tlet item = content.getChildAt(i);\r\n\t\t\tif (item && item.group === group){\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t},\r\n\r\n\t/**\r\n\t*根据name获取所有对话框\r\n\t*@param name 对话框的name\r\n\t*@return 对话框\r\n\t*/\r\n\tgetDialogByName(name){\r\n\t\tlet content = this.viewContent;\r\n\t\tfor (let i = content.numChildren - 1; i > -1; i--){\r\n\t\t\tlet item = content.getChildAt(i);\r\n\t\t\tif (item && item.name === name){\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default DialogManager;","import DirectorView from \"../View\";\r\n\r\nconst LoaderManager = {\r\n    __init__ () {},\r\n    load (type, url, complete) {\r\n        let sceneData = Laya.Loader.getRes(url);\r\n        if(sceneData){\r\n            return complete.runWith(sceneData);\r\n        }\r\n        type && DirectorView.setLoadViewVisible(type, true);\r\n\r\n        Laya.loader.resetProgress();\r\n\t\tvar loader = new Laya.SceneLoader();\r\n\t\tloader.on(/*laya.events.Event.PROGRESS*/\"progress\", this, this.onLoadProgress, [type]);\r\n\t\tloader.once(/*laya.events.Event.COMPLETE*/\"complete\", this, this.onLoadComplete, [type, url, loader, complete]);\r\n\t\tloader.load(url);\r\n    },\r\n\r\n    onLoadProgress (type, val) {\r\n        type && DirectorView.setLoadProgress(type, val);\r\n    },\r\n\r\n    onLoadComplete (type, url, loader, complete) {\r\n        loader.off(/*laya.events.Event.PROGRESS*/\"progress\", null, this.onLoadProgress);\r\n        var obj = Laya.Loader.getRes(url);\r\n        \r\n        complete.runWith(obj);\r\n        type && DirectorView.setLoadViewVisible(type, false);\r\n    }\r\n}\r\n\r\nexport default LoaderManager;","import DirectorView from \"../View\";\r\n\r\nconst SceneManager = {\r\n    sceneClassMap : {},\r\n    _curScene : null,\r\n    __init__ () {\r\n        \r\n    },\r\n\r\n    _onResize (width, height) {\r\n        this._curScene && this._curScene.onResize(width, height);\r\n    },\r\n\r\n    switchScene (params, scene) {\r\n        scene.onOpened && scene.onOpened.apply(scene, params);\r\n        DirectorView.addView(\"Scene\", scene);\r\n    \r\n        if(this._curScene){\r\n            this._curScene.onClosed && this._curScene.onClosed();\r\n            this._curScene.destroy();\r\n        }\r\n        this._curScene = scene;\r\n    },\r\n\r\n    runScene (url, params, obj) {\r\n        if (!obj) {throw `Can not find \"Scene\":${url}`;}\r\n        if (!obj.props) {throw `\"Scene\" data is error:${url}`;}\r\n        \r\n        var runtime = obj.props.runtime ? obj.props.runtime : obj.type;\r\n        var clas = Laya.ClassUtils.getClass(runtime);\r\n        this.sceneClassMap[url] = clas;\r\n\r\n        DirectorView.createView(obj, clas, url, null, Laya.Handler.create(this, this.switchScene, [params]));\r\n    }\r\n}\r\n\r\nexport default SceneManager;","const VIEW_MAP = [\"SceneManager\", \"DialogManager\", \"LoadManager\", \"AlertManager\"];\r\nconst LOAD_VIEW_MAP = {\r\n    \"Scene\" : null,\r\n    \"Dialog\" : null,\r\n};\r\nconst POOL = {};\r\n\r\nconst DirectorView = {\r\n    __init__ () {\r\n        for(let name of VIEW_MAP){\r\n            let view = new Laya.Sprite;\r\n            view.name = `_$${name}`;\r\n            this[view.name] = view;\r\n            console.log(name);\r\n            \r\n            Laya.stage.addChild(view);\r\n        }\r\n\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this._onResize);\r\n        this._onResize();\r\n    },\r\n\r\n    _onResize (width, height) {\r\n        for(let name of VIEW_MAP){\r\n            this[`_$${name}`].size(width, height);\r\n        }\r\n\r\n        for(let i in LOAD_VIEW_MAP){\r\n            let view = LOAD_VIEW_MAP[i];\r\n            view && view.onResize && view.onResize(width, height);\r\n        }\r\n    },\r\n\r\n    _createLoadViewByClass (loadType, view) {\r\n        this.addView(\"Load\", view);\r\n        LOAD_VIEW_MAP[loadType] = view;\r\n    },\r\n\r\n    _createLoadViewByData (type, url, obj) {\r\n        if (!obj) {throw `Can not find \"Scene\":${url}`;}\r\n        if (!obj.props) {throw `\"Scene\" data is error:${url}`;}\r\n        \r\n        var runtime = obj.props.runtime ? obj.props.runtime : obj.type;\r\n        var clas = Laya.ClassUtils.getClass(runtime);\r\n\r\n        this.createView(obj, clas, url, Laya.Handler.create(this, this._createLoadViewByClass, [type]));\r\n    },\r\n\r\n    recoverView (view) {\r\n        const key = view.url || view.constructor.name;\r\n        if(!POOL[key]){\r\n            POOL[key] = [];\r\n        }\r\n        POOL[key].push(view);\r\n    },\r\n\r\n    getViewByPool (url) {\r\n        if(POOL[url]){\r\n            return POOL[url].pop();\r\n        }\r\n        return null;\r\n    },\r\n\r\n    createView (data, clas, url, params, complete) {\r\n        var scene = new clas();\r\n        // var scene = params ? new clas(...params) : new clas();\r\n        params && scene.onMounted && scene.onMounted.apply(scene, params);\r\n\r\n        if (data.props.renderType == \"instance\"){\r\n            scene = clas.instance || (clas.instance = scene);\r\n        }\r\n        if (scene && (scene instanceof laya.display.Node )){\r\n            scene.url = url;\r\n            if (!scene._getBit(/*laya.Const.NOT_READY*/0x08)){\r\n                complete && complete.runWith(scene);\r\n            }else {\r\n                scene.on(\"onViewCreated\", null, function(){\r\n                    complete && complete.runWith(scene)\r\n                })\r\n                scene.createView(data);\r\n            }\r\n        }else {\r\n            throw `Can not find \"Scene\":${runtime}`;\r\n        }\r\n    },\r\n\r\n    setLoadView (type, url) {\r\n        switch(typeof url){\r\n\t\t\tcase \"function\":\r\n                let view = new url;\r\n                view.once(\"onViewCreated\", this, this._createLoadViewByClass, [type]);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"string\":\r\n                LoaderManager.load(null, url, Laya.Handler.create(this, this._createLoadViewByData, [type, url]));\r\n\t\t\t\tbreak;\r\n\t\t}\r\n    },\r\n\r\n    setLoadViewVisible (type, visible) {\r\n        let view = LOAD_VIEW_MAP[type];\r\n        view && (LOAD_VIEW_MAP[type].visible = visible);\r\n    },\r\n\r\n    setLoadProgress (type, val) {\r\n        let view = LOAD_VIEW_MAP[type];\r\n        view && view.onProgress && view.onProgress(val);\r\n    },\r\n\r\n    getView (type) {\r\n        return this[`_$${type}Manager`];\r\n    },\r\n\r\n    setViewVisible (type, visible) {\r\n        this[`_$${type}Manager`].visible = visible;\r\n    },\r\n\r\n    addView (type, view) {\r\n        this[`_$${type}Manager`].addChild(view);\r\n    },\r\n\r\n    addViewAt(type, view, index) {\r\n        this[`_$${type}Manager`].addChildAt(view, index);\r\n    }\r\n}\r\n\r\nexport default DirectorView;","/**\r\n * @public\r\n * 创建骨骼动画\r\n * @param {String} path 骨骼动画路径\r\n * @param {Number} rate 骨骼动画帧率，引擎默认为30，一般传24\r\n * @param {Number} type 动画类型 0,使用模板缓冲的数据，模板缓冲的数据，不允许修改\t（内存开销小，计算开销小，不支持换装） 1,使用动画自己的缓冲区，每个动画都会有自己的缓冲区，相当耗费内存 （内存开销大，计算开销小，支持换装） 2,使用动态方式，去实时去画\t（内存开销小，计算开销大，支持换装,不建议使用）\r\n * \r\n * @return 骨骼动画\r\n */\r\nfunction createSkeleton (path, rate, type) {\r\n    rate = rate || 30;\r\n    type = type || 0;\r\n    var png = Laya.loader.getRes(path + \".png\");\r\n    var sk  = Laya.loader.getRes(path + \".sk\");\r\n    if(!png || !sk){return null;}\r\n\r\n    var templet = new Laya.Templet();\r\n        templet.parseData(png, sk, rate);\r\n\r\n    return templet.buildArmature(type);\r\n}\r\n\r\nexport default createSkeleton;","/**\r\n * @public\r\n * 按指定长度截取字符串\r\n * @param {String} str 要截取长度的字符串\r\n * @param {Number} length 字符串长度\r\n * \r\n * @return 截取长度后的字符串\r\n */\r\nfunction cutStr (text, length) {\r\n    text = text + \"\";\r\n    var reg = /[^\\x00-\\xff]/g;\r\n    if(text.replace(reg, \"mm\").length <= length){return text;}\r\n    var m = Math.floor(length / 2);\r\n    for(var i = m; i < text.length; i++){\r\n        if(text.substr(0, i).replace(reg, \"mm\").length >= length){\r\n            return text.substr(0, i) + \"...\";\r\n        }\r\n    }\r\n    return text;\r\n}\r\n\r\nexport default cutStr;","var isPlainObject = (function () {\r\n    var class2type = {};\r\n    var toString = class2type.toString;\r\n    var hasOwn = class2type.hasOwnProperty;\r\n    var fnToString = hasOwn.toString;\r\n    var ObjectFunctionString = fnToString.call(Object);\r\n\r\n    function isPlainObject (obj) {\r\n        var proto, Ctor;\r\n\r\n        if(!obj || toString.call(obj) !== \"[object Object]\"){\r\n            return false;\r\n        }\r\n\r\n        proto = Object.getPrototypeOf(obj);\r\n\r\n        if(!proto){\r\n            return true;\r\n        }\r\n\r\n        Ctor = hasOwn.call(proto, \"constructor\") && proto.constructor;\r\n        return typeof Ctor === \"function\" && fnToString.call(Ctor) === ObjectFunctionString;\r\n    };\r\n\r\n    return isPlainObject;\r\n})();\r\n\r\n/**\r\n * @public\r\n * 将两个或更多对象的内容合并到第一个对象。使用方式见Jquery.extend\r\n * 调用方式\r\n * Sail.Utils.extend( [deep ], target, object1 [, objectN ] )\r\n * Sail.Utils.extend( target [, object1 ] [, objectN ] )\r\n * \r\n * @return 合并后的对象\r\n */\r\nfunction extend () {\r\n    var options, name, src, copy, copyIsArray, clone,\r\n        target = arguments[0] || {},\r\n        i = 1,\r\n        length = arguments.length,\r\n        deep = false;\r\n\r\n    if(typeof target === \"boolean\"){deep = target;target = arguments[i] || {};i++;}\r\n    if(typeof target !== \"object\" && !typeof target !== \"function\"){target = {};}\r\n    if(i === length){target = this;i--;}\r\n\r\n    for (;i < length; i++){\r\n        if( (options = arguments[i]) != null){\r\n            for (name in options){\r\n                src = target[name];\r\n                copy = options[name];\r\n                if(target === copy){continue;}\r\n                if(deep && copy && (isPlainObject(copy) ||\r\n                    (copyIsArray = Array.isArray(copy) ) ) ){\r\n                    if(copyIsArray){\r\n                        copyIsArray = false;\r\n                        clone = src && Array.isArray(src) ? src : [];\r\n                    } else {\r\n                        clone = src && isPlainObject(src) ? src : {};\r\n                    }\r\n                    target[name] = Utils.extend(deep, clone, copy);\r\n                } else if(copy !== undefined){\r\n                    target[name] = copy;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return target;\r\n};\r\n\r\nexport default extend;","/**\r\n * @public\r\n * 将毫秒转换为`{h}小时{m}分钟{s}秒`的格式\r\n * @param {Number} total 毫秒数\r\n * \r\n * @return 格式化后的字符串\r\n */\r\nfunction formatTime (total) {\r\n    var time = \"\";\r\n    var h = 0;\r\n    var m = 0;\r\n    var s = total % 60;\r\n    if(total > 60) {\r\n        m = total / 60 | 0;\r\n    }\r\n    if(m > 60){\r\n        h = m / 60 | 0;\r\n        m = m % 60;\r\n    }\r\n    \r\n    if(s > 0){\r\n        time = s + \"秒\";\r\n    }\r\n    if(m > 0){\r\n        time = m + \"分钟\" + time;\r\n    }\r\n    if(h > 0){\r\n        time = h + \"小时\" + time;\r\n    }\r\n\r\n    return time;\r\n}\r\n\r\nexport default formatTime;","/**\r\n * @public\r\n * 获取字符串长度，支持中文\r\n * @param {String} str 要获取长度的字符串\r\n * \r\n * @return 字符串长度\r\n */\r\nfunction getStringLength (str){\r\n    return (\"\" + str.replace(/[^\\x00-\\xff]/gi,\"ox\")).length;\r\n}\r\n\r\nexport default getStringLength;","import createSkeleton from \"./createSkeleton\";\r\nimport extend from \"./extends\";\r\nimport cutStr from \"./cutStr\";\r\nimport getStringLength from \"./getStringLength\";\r\nimport formatTime from \"./formatTime\";\r\n\r\nexport default {\r\n    createSkeleton,\r\n    extend,\r\n    cutStr,\r\n    getStringLength,\r\n    formatTime\r\n}"],"sourceRoot":""}